<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danmuku test w/ new danmuku player</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/hls.js/0.14.5/hls.min.js"></script>
</head>

<body>
    <div id="player-wrapper">  
        <div id="danmuku-player">
            <div class="video-container" id="video-container">
                <div class="danmuku-container" id="danmuku-container">        
                    <!-- <div class="danmuku">测试弹幕</div> -->
                </div>
                
                <video id="b-video" 
                    preload="auto" 
                    src="https://ia800300.us.archive.org/17/items/BigBuckBunny_124/Content%2Fbig_buck_bunny_720p_surround.mp4">
                </video>
                
                <!-- <div id="video-controls-wrapper">                    -->
                    <div class="prompt" id="video-controls">
                        <label>
                            <button type="button" id="play-pause">Play</button>
                            <input type="range" id="seek-bar" value="0" min="0">
                            <span id="seek-stage">loaded</span>
                            <span id="cur-time">00:00</span>/<span id="full-time">00:00</span>
                        </label>
                        <label>
                            <button type="button" id="mute">Mute</button>
                            <input type="range" id="volume-bar" min="0" max="1" step="0.1" value="1">
                        </label>
                        <label>
                            <button type="button" id="full-screen">[&nbsp;-&nbsp;]</button>
                        </label>
                    <!-- </div> -->
                </div>
            </div>
        </div>
    </div>

    <div id="misc-prompt">
        <div>&nbsp;</div>
        <div class="prompt" id="status">Current Timestamp: <span id="video-status"></span>&nbsp;&nbsp;||&nbsp;&nbsp;Latest Danmuku Timestamp: <span id="danmuku-status"></span>
            
            <br/>
            <label>Show Danmuku? <input type="checkbox" id="danmuku-switch" checked>
            </label>

            <br/>
            <label>Danmuku Speed: <input type="range" id="danmuku-speed-slider" min="25" max="300" step="25" value="100"/></label>
            &nbsp;<span id="danmuku-speed"></span>%
            
            <br/>
            <label>Video Size:&nbsp;
            <input type="range" id="video-size-slider" min="50" max="150" step="1" value="100"/></label>
            &nbsp;<span id="video-size"></span>

            <br/>
            <label>Danmuku Opacity:&nbsp;
            <input type="range" id="danmuku-opacity-slider" min=0 max=1 step=0.1 value=0.7></label>
            &nbsp;<span id="danmuku-opacity"></span>

            <br/> 
            <label>Danmuku Offset:&nbsp;
            <input type="range" id="offset-slider" min=-600 max=600 step=1></label>
            &nbsp;<span id="offset"></span>
            
            <br/> 
            <label>Display Debugging detail?
            <input type="checkbox" id="is-verbose"></label>
            <!-- <br/> Block by keywords
            <input type="" id="is-verbose"> -->
        </div>

        <div class="prompt" id="video-input">
            <p>=================================================</p>
            
            <label>Upload video here:&nbsp;&nbsp;<input type="file" id="videoInput"></label>
            <label>OR Enter url here:&nbsp;&nbsp;
                <input type="text" id="videoUrlInput" placeholder="Enter url">
                <button id="videoUrlInputButton">Submit</button>
            </label>
            
        </div>

        <div class="prompt" id="danmuku-input">
            <p>=================================================</p>
            <label>Upload danmuku xml file here:&nbsp;&nbsp;<input type="file" id="danmukuInput"><label>
            <br>
            <label>OR Upload danmuku xml text from clipboard:&nbsp;&nbsp;    
            <button id="danmukuInputFromClipboard">load xml text from clipboard</button>
        </div>
    </div>
    <script src="./script.js"></script>

</body>
</html>